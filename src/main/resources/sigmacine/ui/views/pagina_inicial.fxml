<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Pos?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="sigmacine.ui.controller.ClienteController"
            prefWidth="1000" prefHeight="700"
            style="-fx-background-color: #000000;"
            stylesheets="@sigma.css">

    <!-- ====================== TOP BAR ====================== -->
    <top>
        <fx:include source="barra.fxml"/>
    </top>

    <!-- ====================== CONTENIDO ======================= -->
    <center>
        <ScrollPane fx:id="mainScroll"
                    fitToWidth="true"
                    hbarPolicy="NEVER"
                    vbarPolicy="AS_NEEDED"
                    style="-fx-background-color: transparent; -fx-background: transparent;"
                    pannable="true">

            <!-- CONTENIDO REAL DEL SCROLLPANE -->
            <VBox spacing="26"
                  fillWidth="true"
                  style="-fx-background-color: #000000;"
                  alignment="TOP_CENTER">

                <!-- =====================================================
                               BANNER / PUBLICIDAD
                ===================================================== -->
                <StackPane fx:id="promoPane"
                           prefHeight="260"
                           maxHeight="260"
                           minHeight="260"
                           styleClass="promo-container">

                    <ImageView fx:id="promoImg"
                               StackPane.alignment="CENTER"
                               preserveRatio="true"
                               fitHeight="260"
                               fitWidth="900"
                               smooth="true"/>

                    <BorderPane style="-fx-background-color: transparent;">
                        <left>
                            <Button text="‹"
                                    onAction="#prevSlide"
                                    styleClass="promo-nav"/>
                        </left>
                        <right>
                            <Button text="›"
                                    onAction="#nextSlide"
                                    styleClass="promo-nav"/>
                        </right>
                        <bottom>
                            <HBox fx:id="dotsBox"
                                  alignment="CENTER"
                                  spacing="6"
                                  style="-fx-padding: 6 0 6 0;"/>
                        </bottom>
                    </BorderPane>
                </StackPane>


                <!-- =====================================================
                           CARRUSEL DE PELÍCULAS
                ===================================================== -->
                <VBox alignment="CENTER" spacing="12">

                    <Label text="Películas más importantes del momento"
                           styleClass="seccion-titulo"/>

                    <BorderPane maxWidth="1300" style="-fx-background-color: transparent;">

                        <left>
                            <Button fx:id="btnPrevMovies"
                                    text="‹"
                                    onAction="#onPrevMovies"
                                    styleClass="promo-nav"/>
                        </left>

                        <center>
                            <ScrollPane fx:id="peliculasScroll"
                                        style="-fx-background-color: transparent; -fx-background: transparent;"
                                        hbarPolicy="NEVER"
                                        vbarPolicy="NEVER"
                                        pannable="true"
                                        fitToWidth="false"
                                        prefViewportHeight="300">

                                <HBox fx:id="peliculasBox"
                                      alignment="CENTER_LEFT"
                                      spacing="25"
                                      style="-fx-background-color: transparent;"/>
                            </ScrollPane>
                        </center>

                        <right>
                            <Button fx:id="btnNextMovies"
                                    text="›"
                                    onAction="#onNextMovies"
                                    styleClass="promo-nav"/>
                        </right>

                    </BorderPane>
                </VBox>

                <!-- =====================================================
                                 CARTELERA COMPLETA
                ===================================================== -->
                <VBox alignment="TOP_CENTER"
                      spacing="20"
                      style="-fx-padding: 16 0 32 0;">

                    <Label text="Cartelera"
                           styleClass="seccion-titulo-grande"/>

                    <FlowPane fx:id="gridPeliculas"
                              hgap="20" vgap="20"
                              alignment="CENTER"
                              prefWrapLength="1100"
                              style="-fx-background-color: transparent;"/>
                </VBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
