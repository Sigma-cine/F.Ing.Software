<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.Region?>

<BorderPane prefHeight="520" prefWidth="900"
            stylesheets="@/sigmacine/ui/views/sigma.css"
            style="-fx-background-color:#000"
            xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="sigmacine.ui.controller.InfoPersonalController">

    <top>
        <fx:include fx:id="barraInclude" source="barra.fxml"/>
    </top>

    <!-- Contenido -->
    <center>
        <HBox alignment="TOP_LEFT" prefHeight="509.0" prefWidth="900.0" spacing="24">
            <padding>
                <Insets top="24" right="24" bottom="24" left="24"/>
            </padding>

            <!-- Columna izquierda: Avatar -->
            <VBox alignment="TOP_CENTER" spacing="12">
                <children>

                    <!-- Recuadro de la foto -->
                    <StackPane fx:id="avatarPane" prefHeight="160" prefWidth="160"
                               style="-fx-background-color:#222;
                                      -fx-border-color:#555;
                                      -fx-border-radius:12;
                                      -fx-background-radius:12;">
                        <children>
                            <ImageView fx:id="avatarImage" fitHeight="150" fitWidth="150"
                                       preserveRatio="true" pickOnBounds="true"/>
                        </children>
                    </StackPane>

                    <!-- Cambiar foto -->
                    <Button fx:id="btnCambiarFoto" onAction="#onCambiarFoto"
                            text="Cambiar foto"
                            style="-fx-background-color:#8A2F24;
                                   -fx-text-fill:#fff;
                                   -fx-background-radius:14;
                                   -fx-padding:6 16;"/>

                </children>
            </VBox>

            <!-- Columna derecha: Formulario -->
            <GridPane hgap="16" vgap="14">

                <columnConstraints>
                    <ColumnConstraints prefWidth="200"/>
                    <ColumnConstraints hgrow="ALWAYS"/>
                </columnConstraints>

                <rowConstraints>
                    <RowConstraints/>
                    <RowConstraints/>
                    <RowConstraints/>
                    <RowConstraints/>
                    <RowConstraints/>
                    <RowConstraints/>
                    <RowConstraints/>
                </rowConstraints>

                <children>

                    <!-- Nombres -->
                    <Label text="Nombres:" GridPane.rowIndex="0" GridPane.columnIndex="0"
                           style="-fx-text-fill:#ffffff; -fx-font-weight:bold;"/>
                    <TextField fx:id="txtNombres" promptText="Tus nombres"
                               GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                    <!-- Email -->
                    <Label text="Email:" GridPane.rowIndex="2" GridPane.columnIndex="0"
                           style="-fx-text-fill:#ffffff; -fx-font-weight:bold;"/>
                    <TextField fx:id="txtEmail" promptText="correo@ejemplo.com"
                               editable="true"
                               GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                    <!-- Teléfono -->
                    <Label text="Teléfono:" GridPane.rowIndex="3" GridPane.columnIndex="0"
                           style="-fx-text-fill:#ffffff; -fx-font-weight:bold;"/>
                    <TextField fx:id="txtTelefono" promptText="+57 300 000 0000"
                               GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                    <!-- Fecha de nacimiento -->
                    <Label text="Fecha de nacimiento:" GridPane.rowIndex="4" GridPane.columnIndex="0"
                           style="-fx-text-fill:#ffffff; -fx-font-weight:bold;"/>
                    <DatePicker fx:id="dpFechaNacimiento"
                                GridPane.rowIndex="4" GridPane.columnIndex="1"/>

                    <!-- Nueva contraseña -->
                    <Label text="Nueva contraseña:" GridPane.rowIndex="5" GridPane.columnIndex="0"
                           style="-fx-text-fill:#ffffff; -fx-font-weight:bold;"/>
                    <PasswordField fx:id="txtNuevaClave" promptText="••••••••"
                                   GridPane.rowIndex="5" GridPane.columnIndex="1"/>

                    <!-- Botones + mensaje -->
                    <HBox alignment="CENTER_RIGHT" spacing="12"
                          GridPane.rowIndex="6" GridPane.columnIndex="1">
                        <children>
                            <Label fx:id="lblMensaje" visible="false"
                                   style="-fx-text-fill:#ffcc00;" text=""/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Button fx:id="btnCancelar" onAction="#onCancelar" text="Cancelar"
                                    style="-fx-background-color:transparent;
                                           -fx-border-color:#8A2F24;
                                           -fx-text-fill:#fff;
                                           -fx-border-radius:14;
                                           -fx-background-radius:14;
                                           -fx-padding:6 16;"/>
                            <Button fx:id="btnGuardar" onAction="#onGuardar" text="Guardar cambios"
                                    style="-fx-background-color:#8A2F24;
                                           -fx-text-fill:#fff;
                                           -fx-background-radius:14;
                                           -fx-padding:6 16;"/>
                        </children>
                    </HBox>

                </children>
            </GridPane>

        </HBox>
    </center>
</BorderPane>
